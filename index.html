<script>
  async function getUID() {
    const fbLink = document.getElementById("fbLink").value.trim();
    const output = document.getElementById("output");

    if (!fbLink.includes("facebook.com")) {
      output.innerHTML = "❌ Please enter a valid Facebook URL.";
      return;
    }

    output.innerHTML = "⏳ Checking UID...";

    try {
      const proxy = "https://corsproxy.io/?" + encodeURIComponent(fbLink);
      const res = await fetch(proxy);
      const html = await res.text();

      const match = html.match(/"entity_id":"(\d{6,20})"/);

      if (match && match[1]) {
        output.innerHTML = `✅ UID Found: <span style="color:green">${match[1]}</span>`;
      } else {
        output.innerHTML = "❌ UID not found. May be private profile.";
      }
    } catch (e) {
      output.innerHTML = "⚠️ Error fetching profile.";
    }
  }
</script>
